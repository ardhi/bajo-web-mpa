{% set types = attr.types|d(['table', 'gridSmall', 'grid']) %}
{% cmp 'div', display='flex', alignItems='center' %}
  {% cmp 'buttonGroup', outline=true, radio=true, margin='bottom2' %}
    {% for t in types %}
      {% cmp 'radio', classBase='btn-check', checked=t === attr.view %}{% endcmp %}
      {% cmp 'label', classBase='btn', class='btn-outline-primary' %}
        {% set params = _meta.query|pick(['query', 'sort'])|set('view', t) %}
        {% cmp 'a', href='?' + params|qsStringify, text=(attr.view === t)|ternary('white', undefined), stretchedLink=true %}
          {% cmp 'icon', name=t %}{% endcmp %}
        {% endcmp %}
      {% endcmp %}
    {% endfor %}
  {% endcmp %}
{% endcmp %}
